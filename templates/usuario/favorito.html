<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Meu Favorito | CHATUAL DU PET</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}"> 
    
    <style>
        :root {
            --chateau-purple: #89006A;
            --chateau-light-purple: #f0e6f0;
        }
        .page-title {
            color: var(--chateau-purple);
            font-weight: bold;
            margin-bottom: 1.5rem;
        }
        .navbar { 
            background-color: var(--chateau-purple) !important;
            padding: 10px 0;
        }
        .header-back-button {
            font-size: 24px;
            text-decoration: none;
            color: white !important;
            line-height: 1;
            margin-left: 10px;
        }
        .navbar-brand span {
             color: white;
             font-size: 1.5rem;
             font-weight: bold;
         }
        .favorites-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        .card-favorite {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .card-favorite img {
            width: 100%;
            height: 150px;
            object-fit: contain;
            border-bottom: 1px solid #ddd;
            background-color: #f8f8f8;
            padding: 10px;
        }
        .card-favorite-body {
            padding: 15px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }
        .price.fw-bold { /* Classe do JS */
            color: var(--chateau-purple) !important;
            font-size: 1.2rem;
        }
        .btn-custom {
            background-color: var(--chateau-purple);
            color: #fff;
            border: 1px solid var(--chateau-purple);
            transition: 0.3s;
        }
        .btn-custom:hover {
            background-color: #6a0052;
            color: white;
        }
        .btn-remove-fav { /* Classe do JS */
            background-color: transparent;
            color: #89006A;
            border: 1px solid #89006A;
            margin-top: 10px;
            transition: 0.3s;
        }
        .btn-remove-fav:hover {
            background-color: #89006A;
            color: white;
        }
        #no-favorites-message {
            text-align: center;
            padding: 50px;
            color: #6c757d;
        }
        
        /* Estilos do Rodap√© */
        .main-footer { background-color: #f8f8f8; border-top: 1px solid #ddd; color: #333; font-size: 0.95rem; }
        .main-footer h5 { font-size: 1.1rem; font-weight: bold; color: var(--chateau-purple); margin-bottom: 1rem; }
        .main-footer a { color: #6c757d; text-decoration: none; line-height: 2; transition: color 0.2s; }
        .main-footer a:hover { color: var(--chateau-purple); text-decoration: underline; }
        .footer-cta { background-color: var(--chateau-purple); border-radius: 8px; }
        .footer-hr { border-color: #eee; }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg shadow-sm">
        <div class="container d-flex align-items-center justify-content-between">
            <a class="header-back-button" href="javascript:history.back()" title="Voltar">‚Üê</a>
            
            <a class="navbar-brand d-flex align-items-center mx-auto" href="{{ url_for('home') }}">
                <span>MEU FAVORITO</span>
            </a>

            <div class="d-flex align-items-center me-3">
                <a class="nav-link text-white me-3" href="{{ url_for('home') }}" title="Ir para o Carrinho">üõí</a>
                <a class="nav-link text-white" href="{{ url_for('usuario_login') }}" title="Acessar Perfil">üë§</a>
            </div>
        </div>
    </nav>
    
    <div class="container my-5">
        <h1 class="text-center page-title">üíñ Meus Produtos Favoritos</h1>
        
        <div id="no-favorites-message" style="display: none;">
            <p>Voc√™ ainda n√£o adicionou nenhum produto aos favoritos. Explore nossas ofertas na <a href="{{ url_for('home') }}">p√°gina inicial</a>!</p>
        </div>

        <div class="favorites-grid" id="favorites-list"
             data-product-url="{{ url_for('produto_detalhe') }}"
             data-static-img-path="{{ url_for('static', filename='img/') }}"
             data-placeholder-img="{{ url_for('static', filename='img/placeholder.png') }}"
             data-home-url="{{ url_for('home') }}">
            
            <div class="spinner-border main-purple-text" role="status"></div>
        </div>
    </div>

    <footer class="main-footer pt-5 pb-4 mt-5">
        <div class="container">
            <div class="row footer-links mb-4">
                <div class="col-lg-3 col-md-6 mb-4"><div class="footer-cta p-4"><h4 class="text-white">Como podemos ajudar?</h4><p class="text-white-50">Conhe√ßa mais sobre n√≥s.</p><a href="{{ url_for('institucional_contatos') }}" class="btn btn-light btn-sm fw-bold">Fale Conosco</a></div></div>
                <div class="col-lg-3 col-md-6 mb-4"><h5>Atendimento</h5><ul class="list-unstyled"><li><a href="{{ url_for('institucional_contatos') }}">Central de Ajuda/FAQ</a></li><li><a href="#">Trocas e Devolu√ß√µes</a></li></ul></div>
                <div class="col-lg-3 col-md-6 mb-4"><h5>Nossos Servi√ßos</h5><ul class="list-unstyled">
                    <li><a href="{{ url_for('servicos_veterinaria') }}">Veterin√°ria üêæ</a></li>
                    <li><a href="{{ url_for('servicos') }}">Est√©tica</a></li>
                    <li><a href="{{ url_for('servicos_hotel') }}">Hotel Pet</a></li>
                    <li><a href="{{ url_for('servicos_day_care') }}">Day Care</a></li>
                </ul></div>
                <div class="col-lg-3 col-md-6 mb-4"><h5>Informa√ß√µes Legais</h5><ul class="list-unstyled"><li><a href="#">Pol√≠tica de Privacidade</a></li><li><a href="{{ url_for('institucional_lojas') }}">Nossas Lojas</a></li></ul></div>
            </div>
            <hr class="footer-hr">
            <div class="text-center mt-3 small text-muted">
                <p class="mb-0">CHATUAL DU PET | CNPJ: 10.864.846/0001-23</p>
                <p class="mb-0">¬© Copyright 2025 CHATUAL DU PET - Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <script src="{{ url_for('static', filename='js/supabaseClient.js') }}" type="module"></script>
    <script src="{{ url_for('static', filename='js/favorito.js') }}" type="module"></script>
</body>
</html>